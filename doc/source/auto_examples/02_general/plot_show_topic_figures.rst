

.. _sphx_glr_auto_examples_02_general_plot_show_topic_figures.py:



.. _plot1:

=========================================
 Show topic distributions
=========================================

Plot topic figures and show them.



Start with the necessary imports
--------------------------------



.. code-block:: python

    from os.path import join
    from shutil import rmtree

    from IPython.display import Image, SVG

    from gclda.model import Model
    from gclda.utils import get_resource_path







Load model
----------------------------------



.. code-block:: python

    model_file = join(get_resource_path(), 'models/Neurosynth2015Filtered2',
                      'model_200topics_2015Filtered2_10000iters.pklz')
    model = Model.load(model_file)







Save topic figures
-----------------------



.. code-block:: python

    out_dir = 'temp/'
    model.save_topic_figures(outputdir=out_dir)







Show first topic figure
-----------------------



.. code-block:: python

    SVG(filename=join(out_dir, 'Topic_11.png'))
    #Image(filename=join(out_dir, 'Topic_11.png'), embed=True)




.. code-block:: pytb

    Traceback (most recent call last):
      File "/Users/tsalo/Documents/tsalo/python_gclda/examples/02_general/plot_show_topic_figures.py", line 41, in <module>
        SVG(filename=join(out_dir, 'Topic_11.png'))
      File "/Users/tsalo/anaconda/lib/python2.7/site-packages/IPython/core/display.py", line 394, in __init__
        self.reload()
      File "/Users/tsalo/anaconda/lib/python2.7/site-packages/IPython/core/display.py", line 413, in reload
        self.data = f.read()
      File "/Users/tsalo/anaconda/lib/python2.7/site-packages/IPython/core/display.py", line 498, in data
        x = minidom.parseString(svg)
      File "/Users/tsalo/anaconda/lib/python2.7/xml/dom/minidom.py", line 1928, in parseString
        return expatbuilder.parseString(string)
      File "/Users/tsalo/anaconda/lib/python2.7/xml/dom/expatbuilder.py", line 940, in parseString
        return builder.parseString(string)
      File "/Users/tsalo/anaconda/lib/python2.7/xml/dom/expatbuilder.py", line 223, in parseString
        parser.Parse(string, True)
    ExpatError: not well-formed (invalid token): line 1, column 0




Show second topic figure
------------------------



.. code-block:: python

    Image(filename=join(out_dir, 'Topic_59.png'), embed=True)


Show third topic figure
-----------------------



.. code-block:: python

    Image(filename=join(out_dir, 'Topic_150.png'), embed=True)


Clean up generated files
------------------------



.. code-block:: python

    rmtree(out_dir)

**Total running time of the script:** ( 3 minutes  32.355 seconds)



.. only :: html

 .. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_show_topic_figures.py <plot_show_topic_figures.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_show_topic_figures.ipynb <plot_show_topic_figures.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
